# üììPOINTERüìì

<details>
<summary><b>üìñ1. Kh√°i ni·ªám</b></summary>
 
- **Con tr·ªè (pointer):** L√† m·ªôt bi·∫øn ch·ª©a ƒë·ªãa ch·ªâ b·ªô nh·ªõ c·ªßa m·ªôt ƒë·ªëi t∆∞·ª£ng kh√°c (bi·∫øn, m·∫£ng, h√†m)
- Vi·ªác s·ª≠ d·ª•ng con tr·ªè gi√∫p ch√∫ng ta th·ª±c hi·ªán c√°c thao t√°c tr√™n b·ªô nh·ªõ m·ªôt c√°ch linh ho·∫°t h∆°n.
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ2. ƒê·∫∑c ƒëi·ªÉm con tr·ªè</b></summary>

### 2.1. Khai b√°o con tr·ªè
- C√∫ ph√°p: `<Ki·ªÉu d·ªØ li·ªáu> *<t√™n bi·∫øn>`
- Trong ƒë√≥:<br>
&nbsp;+ Ki·ªÉu d·ªØ li·ªáu l√†: void, char, int, ...<br>
&nbsp;+ D·∫•u * tr∆∞·ªõc t√™n bi·∫øn l√† k√Ω hi·ªáu b√°o cho tr√¨nh bi√™n d·ªãch bi·∫øt ra.
- V√≠ d·ª•: <br>
```c
int *ptr_int;       // con tr·ªè ƒë·∫øn ki·ªÉu int
char *ptr_char;     // con tr·ªè ƒë·∫øn ki·ªÉu char
float *ptr_float;   // con tr·ªè ƒë·∫øn ki·ªÉu float
```
### 2.2. L·∫•y ƒë·ªãa ch·ªâ c·ªßa bi·∫øn
- Con tr·ªè khi tr·ªè ƒë·∫øn bi·∫øn s·∫Ω l∆∞u ƒë·ªãa ch·ªâ √¥ nh·ªõ ƒë·∫ßu ti√™n ƒë∆∞·ª£c c·∫•p ph√°t cho bi·∫øn ƒë√≥.
- C√∫ ph√°p: `<Ki·ªÉu d·ªØ li·ªáu> *<t√™n bi·∫øn 1> = &<t√™n bi·∫øn 2>`
- Trong ƒë√≥:<br>
&nbsp;+ Ki·ªÉu d·ªØ li·ªáu l√†: void, char, int, ...<br>
&nbsp;+ D·∫•u * tr∆∞·ªõc t√™n bi·∫øn l√† k√Ω hi·ªáu b√°o cho tr√¨nh bi√™n d·ªãch bi·∫øt ra.<br>
&nbsp;+ &<t√™n bi·∫øn 2>: l√† ph√©p l·∫•y ƒë·ªãa ch·ªâ c·ªßa bi·∫øn 2.
- V√≠ d·ª•: <br>
```c
int x = 10;       //Address: 0x01 0x02 0x03 0x04
                  //Value:	0b00..00
int *ptr_x = &x;  // ptr_x ch·ª©a ƒë·ªãa ch·ªâ c·ªßa x
                  // &ptr_x = 0xc1
                  // ptr_x = 0x01
```
 Truy c·∫≠p gi√° tr·ªã (gi·∫£i tham chi·∫øu - dereference)
- ƒê·ªÉ l·∫•y gi√° tr·ªã t·ª´ con tr·ªè ta s·ª≠ d·ª•ng ph√©p gi·∫£i tham chi·∫øu.
- C√∫ ph√°p: `*<t√™n bi·∫øn 1> = <t√™n bi·∫øn 2>`
- Trong ƒë√≥:<br>
&nbsp;+ *<t√™n bi·∫øn 1>: l√† ph√©p l·∫•y gi√° tr·ªã t·ª´ con tr·ªè.
- V√≠ d·ª•: <br>
```c
int x = 10;
int *ptr_x = &x;
*ptr_x = *(0x01) = 10
```
### 2.4. K√≠ch th∆∞·ªõc con tr·ªè
- K√≠ch th∆∞·ªõc c·ªßa con tr·ªè ph·ª• thu·ªôc v√†o ki·∫øn tr√∫c m√°y t√≠nh v√† tr√¨nh bi√™n d·ªãch ho·∫∑c ki·∫øn tr√∫c vi x·ª≠ l√Ω.
- Ph·∫£i ƒë·ªìng b·ªô ki·ªÉu d·ªØ li·ªáu v·ªõi bi·∫øn ƒë·ªÉ tr√°nh ƒë·ªçc sai gi√° tr·ªã
- V√≠ d·ª•: V·ªõi m√°y t√≠nh c√≥ h·ªá ƒëi·ªÅu h√†nh 64 bit th√¨ con tr·ªè s·∫Ω c√≥ k√≠ch th∆∞·ªõc 8 bytes (64 bit).
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ3. M·ªëi quan h·ªá gi·ªØa con tr·ªè v√† m·∫£ng</b></summary>

- K√≠ch th∆∞·ªõc m·∫£ng = s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ c·ªßa m·∫£ng x k√≠ch th∆∞·ªõc ki·ªÉu d·ªØ li·ªáu
```c
int main() {
  int arr[] = {1, 2, 3, 4, 5};
  
  int *ptr = arr;
  
  int n = sizeof(arr)/sizeof(arr[0]);  // s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ trong m·∫£ng
  
  for (int i; i < n; i++)
  {
     // ptr l√† ƒë·ªãa ch·ªâ ph·∫ßn t·ª≠ th·ª© 1
     // ptr + 1 l√† ƒë·ªãa ch·ªâ ph·∫ßn t·ª≠ th·ª© 2
     // .....
     // *ptr +i 'l√† gi√° tr·ªã ph·∫ßn t·ª≠ th·ª© i
     printf("Dia chi: %p - Gia tri: %d\n",ptr + i, (*ptr +i));
  }
}
```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ4. Void pointer</b></summary>

- **Void pointer** th∆∞·ªùng d√πng ƒë·ªÉ tr·ªè ƒë·ªÉ t·ªõi b·∫•t k·ª≥ ƒë·ªãa ch·ªâ n√†o m√† kh√¥ng c·∫ßn bi·∫øt t·ªõi ki·ªÉu d·ªØ li·ªáu c·ªßa gi√° tr·ªã t·∫°i ƒë·ªãa ch·ªâ ƒë√≥.
- C√∫ ph√°p: ` void *ptr_void;`
- ∆Øu ƒëi·ªÉm: Thay v√¨ ph·∫£i khai b√°o nhi·ªÅu con tr·ªè v·ªõi c√°c ki·ªÉu d·ªØ li·ªáu kh√°c nhau th√¨ ta c√≥ th·ªÉ t·ªëi ∆∞u b·∫±ng c√°ch khai b√°o 1 con tr·ªè void v√† d√πng n√≥ ƒë·ªÉ tr·ªè t·ªõi nhi·ªÅu bi·∫øn v·ªõi c√°c ki·ªÉu d·ªØ li·ªáu kh√°c nhau gi√∫p t·ªëi ∆∞u b·ªô nh·ªõ h∆°n
- Nh∆∞·ª£c ƒëi·ªÉm: c√∫ ph√°p ph·ª©c t·∫°p v√¨ ph·∫£i √©p ki·ªÉu l·∫°i
- V√≠ d·ª•:
```c
#include <stdio.h>

int main()
{
   void *ptr

    int value = 5;
    double test = 15.7;
    char arr[] = "Hello World"; //k√Ω t·ª± NULL (\'0')
    
    ptr = &value;
    printf("Address: %p - Value: %d\n", ptr, *(int*)(ptr));

    ptr = &test;
    printf("Address: %p - Value: %f\n", ptr, *(double*)(ptr));

    ptr = arr;
    for (int i = 0; i < (sizeof(arr)/sizeof(arr[0])); i++)
    {
       printf("Address: %p - Value: %c\n", ptr+i, *(char*)(ptr+i));
    }

    void *ptr1[] = { &value, &test, arr };
    printf("Address: %p - Value: %d\n", ptr1[0], *(int*)ptr1[0]);
    printf("Address: %p - Value: %f\n", ptr1[1], *(double*)ptr1[1]);
    printf("Address: %p - Value: %c\n", ptr1[1], *(char*)ptr1[1]);
    return 0;
}
```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ5. Con tr·ªè h√†m - Function Pointer</b></summary>
 
### 5.1. Kh√°i ni·ªám - C√∫ ph√°p
- **Con tr·ªè h√†m (Function Pointer)** l√† m·ªôt bi·∫øn m√† gi·ªØ ƒë·ªãa ch·ªâ c·ªßa m·ªôt h√†m. C√≥ nghƒ©a l√†, n√≥ tr·ªè ƒë·∫øn v√πng nh·ªõ trong b·ªô nh·ªõ ch·ª©a m√£ m√°y c·ªßa h√†m ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong ch∆∞∆°ng tr√¨nh.
- Trong ng√¥n ng·ªØ l·∫≠p tr√¨nh C, con tr·ªè h√†m cho ph√©p b·∫°n truy·ªÅn m·ªôt h√†m nh∆∞ l√† m·ªôt ƒë·ªëi s·ªë cho m·ªôt h√†m kh√°c, l∆∞u tr·ªØ ƒë·ªãa ch·ªâ c·ªßa h√†m trong m·ªôt c·∫•u tr√∫c d·ªØ li·ªáu, ho·∫∑c th·∫≠m ch√≠ truy·ªÅn h√†m nh∆∞ m·ªôt gi√° tr·ªã tr·∫£ v·ªÅ t·ª´ m·ªôt h√†m kh√°c.
- C√∫ ph√°p: `<return_type> (*func_pointer)(<data_type_1>, <data_type_2>);`
- V√≠ d·ª•:
```c
int sum ( int a, int b);
int (*ptr)(int, int);
ptr = sum; 
```
### 5.2. C√°c c√°ch g·ªçi h√†m 
```c
void funcA();
void (*ptr)();
ptr = &funcA; // ho·∫∑c c√≥ th·ªÉ vi·∫øt ptr = funcA
```
- G·ªçi th√¥ng qua t√™n: FuncA();
- G·ªçi th√¥ng qua con tr·ªè h√†m:<br> 
  &nbsp;+ G·ªçi tr·ª±c ti·∫øp nh∆∞ g·ªçi h√†m: ptr();<br>
  &nbsp;+ S·ª≠ d·ª•ng d·∫•u * gi·∫£i tham chi·∫øu: (*ptr)();
### 5.3. ∆Øu ƒëi·ªÉm - nh∆∞·ª£c ƒëi·ªÉm
- ∆Øu ƒëi·ªÉm: C√≥ ƒë·ªô linh ho·∫°t cao
- Nh∆∞·ª£c ƒëi·ªÉm: T·ªëc ƒë·ªô ch√¢m h∆°n so v·ªõi g·ªçi h√†m th√¥ng qua t√™n
### 5.4. V√≠ d·ª•
- V√≠ d·ª• 1: Khai b√°o nh∆∞ 1 bi·∫øn
  ```c
  #include <stdio.h>
  
  int tong(int a, int b){ return a + b; }
  
  int hieu(int a, int b){ return a - b; }
  
  int tich(int a, int b){ return a * b; }
  
  int thuong(int a, int b){ return (double)a / b; }
  
  int main()
  {
      int (*ptr)(int,int);  //Khai b√°o con tr·ªè h√†m
  
       ptr = tong;
       printf("Tong: %d\n, ptr(2,3));
  
       ptr = hieu;
       printf("Hieu: %d\n, ptr(2,3));
  
       ptr = tich;
       printf("Tich: %d\n, ptr(2,3));
  
       ptr = thuong;
       printf("Thuong: %d\n, ptr(5,3));
  
       return 0;
  }
  ```
  ```c
  Kq: Tong: 5
       Hieu: -1
       Tich: 6
       Thuong: 1,666666
  ```
 - V√≠ d·ª• 2: Khai b√°o con tr·ªè h√†m d∆∞·ªõi d·∫°ng m·∫£ng con tr·ªè
   ```c
   void tong(int a, int b) {printf("Tong l√†: %d", a+b);}
   
   void hieu(int a, int b) {printf("Hieu l√†: %d", a-b);}
   
   void tich(int a, int b) {printf("Tich l√†: %d", a*b);}
   
   void thuong(int a, int b) {printf("Thuong l√†: %d", (double)a/b);}
   
   int main ()
   {
     void (*ptr)(int, int);  // Khai b√°o con tr·ªè h√†m
   
     void (*ptr_arr[])(int, int) = {tong, hieu, tich, thuong};  
     ptr_arr[0](2,3);  // G·ªçi h√†m t·ªïng
     ptr_arr[1](2,3);  // G·ªçi h√†m hi·ªáu
     ptr_arr[2](2,3);  // G·ªçi h√†m t√≠ch
     ptr_arr[3](5,3);  // G·ªçi h√†m thuong
   
    return 0;
   }
   ```
   ```c
   Kq: Tong: 5
        Hieu: -1
        Tich: 6
        Thuong: 1,666666
   ```
   - V√≠ d·ª• 3: Khai b√°o con tr·ªè h√†m d∆∞·ªõi d·∫°ng tham s·ªë truy·ªÅn v√†o
   ```c
   void tong(int a, int b) {printf("Tong l√†: %d", a+b);}
   
   void hieu(int a, int b) {printf("Hieu l√†: %d", a-b);}
   
   void tich(int a, int b) {printf("Tich l√†: %d", a*b);}
   
   void thuong(int a, int b) {printf("Thuong l√†: %d", (double)a/b);}
   
   void tinhtoan(void (*pheptoan)(int, int), int a, int b)
   {
      pheptoan(a,b);
   }
   
   int main ()
   {
     void (*ptr)(int, int);  // Khai b√°o con tr·ªè h√†m
   
     tinhtoan(tong, 2, 3);  // Truy·ªÅn tham s·ªë l√† h√†m tong ƒë·ªÉ t√≠nh t·ªïng.
     tinhtoan(hieu, 2, 3);  // Truy·ªÅn tham s·ªë l√† h√†m tong ƒë·ªÉ t√≠nh hi·ªáu.
     tinhtoan(tich, 2, 3);  // Truy·ªÅn tham s·ªë l√† h√†m tong ƒë·ªÉ t√≠nh t√≠ch.
     tinhtoan(thuong, 5, 3);  // Truy·ªÅn tham s·ªë l√† h√†m tong ƒë·ªÉ t√≠nh th∆∞∆°ng.
     return 0;
   }
   ```
   ```c
   Kq: Tong: 5
        Hieu: -1
        Tich: 6
        Thuong: 1,666666
   ```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ6. Con tr·ªè tr·ªè t·ªõi h·∫±ng s·ªë - Pointer to Constant</b></summary>

- Kh√°i ni·ªám: L√† c√°ch ƒë·ªãnh nghƒ©a m·ªôt con tr·ªè kh√¥ng th·ªÉ thay ƒë·ªïi gi√° tr·ªã t·∫°i ƒë·ªãa ch·ªâ m√† n√≥ tr·ªè ƒë·∫øn th√¥ng qua dereference nh∆∞ng ƒë·ªãa ch·ªâ ƒë√≥ c√≥ th·ªÉ thay ƒë·ªïi.
- C√∫ ph√°p:<br>
  ```c
  <data type> const *ptr_const;
  const <data type> *ptr_const;
  ```
- ·ª®ng d·ª•ng: Gi·ªØ l·∫°i d·ªØ li·ªáu tr∆∞·ªõc ƒë√≥ 
- V√≠ d·ª•:<br> 
  ```c
  int main()
  {
     int value = 5;
     int test = 8;
     const int *ptr_const = &value;

     printf("value: %d\n", *ptr_const);  //read - only

     //*ptr_const = 7; Sai
     ptr_const = &test //ƒë√∫ng

     printf("value: %d\n", *ptr_const);
     return 0;
  }
  ```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ7. H·∫±ng con tr·ªè -  Constant Pointer</b></summary>

- Kh√°i ni·ªám: ƒê·ªãnh nghƒ©a m·ªôt con tr·ªè khi ƒë∆∞·ª£c kh·ªüi t·∫°o th√¨ n√≥ s·∫Ω kh√¥ng th·ªÉ tr·ªè t·ªõi ƒë·ªãa ch·ªâ kh√°c.
- C√∫ ph√°p:<br>
  ```c
  <data type> *const ptr_const;
  const <data type> *const ptr_const;  // k·∫øt h·ª£p h·∫±ng con tr·ªè v√† con tr·ªè h·∫±ng
  ```
- V√≠ d·ª•:<br> 
  ```c
  #include <stdio.h>
 
  int main()
  {
      int value = 5;
      int test = 15;
      int *const const_ptr = &value;
  
      printf("value: %d\n", *const_ptr);
  
      *const_ptr = 7;
      printf("value: %d\n", *const_ptr);
  
      //const_ptr = &test; // wrong
      return 0;
  }
  ```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ8. Con tr·ªè NULL -  NULL Pointer</b></summary>

- Kh√°i ni·ªám: l√† m·ªôt con tr·ªè kh√¥ng tr·ªè ƒë·∫øn b·∫•t k·ª≥ ƒë·ªëi t∆∞·ª£ng ho·∫∑c v√πng nh·ªõ c·ª• th·ªÉ n√†o.
- ·ª®ng d·ª•ng: D√πng ƒë·ªÉ ki·ªÉm tra xem m·ªôt con tr·ªè ƒë√£ ƒë∆∞·ª£c kh·ªüi t·∫°o v√† c√≥ tr·ªè ƒë·∫øn m·ªôt v√πng nh·ªõ h·ª£p l·ªá ch∆∞a tr√°nh thay ƒë·ªïi d·ªØ li·ªáu m√† n√≥ tr·ªè t·ªõi => Khi d√πng xong ho·∫∑c kh√¥ng d√πng n√™n g·∫Øn con tr·ªè NULL
- V√≠ d·ª•:<br> 
  ```c
  #include <stdio.h>

  int main()
  {
      int *ptr = NULL;  // G√°n gi√° tr·ªã NULL cho con tr·ªè    0x0000000
  
      if (ptr == NULL)
      {
          printf("Pointer is NULL\n");
      }
      else
      {
          printf("Pointer is not NULL\n");
      }
  
      int score_game = 5;
      if (ptr == NULL)
      {
          ptr = &score_game;
          *ptr = 30;
          ptr = NULL; // khi kh√¥ng d√πng n·ªØa g·∫Øn NULL
      }
      return 0;
  }
  ```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>üìñ9. Con tr·ªè ƒë·∫øn con tr·ªè -  Pointer to Pointer (Con tr·ªè c·∫•p 2)</b></summary>

- Kh√°i ni·ªám: cho ph√©p l∆∞u tr·ªØ ƒë·ªãa ch·ªâ c·ªßa m·ªôt con tr·ªè kh√°c
- ·ª®ng d·ª•ng:<br>
&nbsp;+ Ki·ªÉu d·ªØ li·ªáu JSON.<br>
&nbsp;+ C·∫•u tr√∫c d·ªØ li·ªáu danh s√°ch li√™n k·∫øt. <br>
- V√≠ d·ª•:<br> 
  ```c
  int test = 5; //Address: 0x01, Value:	5
  
  int *ptr = &test; // Address: 	0xf1, Value:	0x01
  
  int **ptp = &ptr; //Address: 	0xef, Value:	0xf1

  **ptp = 5 // Gi·∫£i tham chi·∫øu con tr·ªè c·∫•p 2
  ```
  </details>

  
-----------------------------------------------------------------------------------------------------------------------------------------------
