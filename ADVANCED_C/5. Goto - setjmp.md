
<details>
<summary><b>üìñB√ÄI 5: Goto - setjmp.h </b></summary>
 
## 1. Goto
- **Goto:**: √† m·ªôt t·ª´ kh√≥a trong ng√¥n ng·ªØ l·∫≠p tr√¨nh C, cho ph√©p ch∆∞∆°ng tr√¨nh nh·∫£y ƒë·∫øn m·ªôt nh√£n (label) ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t tr∆∞·ªõc ƒë√≥ trong c√πng m·ªôt h√†m. 
- ∆Øu ƒëi·ªÉm: Ki·ªÉm so√°t lu·ªìng ch·∫°y ch∆∞∆°ng tr√¨nh
- Nh∆∞·ª£c ƒëi·ªÉm:<br>
  &nbsp;+ L√†m cho m√£ ngu·ªìn tr·ªü n√™n kh√≥ ƒë·ªçc v√† kh√≥ b·∫£o tr√¨.<br>
  &nbsp;+ Ch·ªâ s·ª≠ d·ª•ng trong c√πng 1 h√†m.<br>
- V√≠ d·ª•:
```c
 #include <stdio.h>
 
 int main()
 {
    int i = 0;
 
    // ƒê·∫∑t nh√£n
    start:
       if (i >= 5)
       {
          goto end;  // Chuy·ªÉn control ƒë·∫øn nh√£n "end"
       }
 
       printf("%d ", i);
       i++;
 
       goto start;  // Chuy·ªÉn control ƒë·∫øn nh√£n "start"
 
    // Nh√£n "end"
    end:
       printf("\n");
    return 0;
 }

```
## 2. Th∆∞ vi·ªán setjmp
- **setjmp.h:** l√† m·ªôt th∆∞ vi·ªán trong ng√¥n ng·ªØ l·∫≠p tr√¨nh C, cung c·∫•p hai h√†m ch√≠nh l√† setjmp v√† longjmp.
- ·ª®ng d·ª•ng: D√πng ƒë·ªÉ x·ª≠ l√Ω ngo·∫°i l·ªá trong C (debug ch∆∞∆°ng tr√¨nh ).
- **setjmp(jmp_bufenv)**: L∆∞u tr·ªØ v·ªã tr√≠ m√† c√°i h√†m ƒë∆∞·ª£c g·ªçi ra ( v·ªã tr√≠ setjmp ƒëang ƒë·ª©ng) ƒë·ªÉ c√≥ th·ªÉ quay l·∫°i b·∫±ng **longjmp**.<br>
&nbsp;+ Tr·∫£ v·ªÅ 0 khi ƒë∆∞·ª£c g·ªçi l·∫ßn ƒë·∫ßu.<br>
&nbsp;+ Tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã kh√°c 0 khi quay l·∫°i t·ª´ **longjmp**.<br>
- **longjmp(jmp_buf env, int value):** Nh·∫£y v·ªÅ v·ªã tr√≠ hi·ªán t·∫°i c·ªßa setjmp v√† ti·∫øp t·ª•c th·ª±c thi t·ª´ ƒë√≥.
- V√≠ d·ª•:<br>
 ```c
 #include <stdio.h>
 #include <setjmp.h>
 
 jmp_buf buf;
 
 int exception = 0;
 
 void func2()
 {
     printf("This is function 2\n");
     longjmp(buf, 2);  // Nh·∫£y tr·ªü l·∫°i v·ªã tr√≠ setjmp v√† tr·∫£ l·∫°i gi√° tr·ªã 2
 }
 
 void func3()
 {
     printf("This is function 3\n");
     longjmp(buf, 3);   // Nh·∫£y tr·ªü l·∫°i v·ªã tr√≠ setjmp v√† tr·∫£ l·∫°i gi√° tr·ªã 3
 }
 
 void func1()
 {
     exception = setjmp(buf);   //ƒë√°nh d·∫•u l∆∞u tr·ªØ v·ªã tr√≠ h√†m setjmp ƒëang th·ª±c thi
     if (exception == 0)
     {
         printf("This is function 1\n");
         printf("exception = %d\n", exception);
         func2();
     }
     else if (exception == 2)
     {
         printf("exception = %d\n", exception);
         func3();
     }
     else if (exception == 3)
     {
         printf("exception = %d\n", exception);
     }
 }
 
 int main(int argc, char const *argv[])
 {
     func1();
     return 0;
 }
 ```
## 3. X·ª≠ l√Ω ngo·∫°i l·ªá - Exception Handling
- **X·ª≠ l√Ω ngo·∫°i l·ªá (Exception Handling):** l√† m·ªôt c∆° ch·∫ø trong l·∫≠p tr√¨nh gi√∫p ph√°t hi·ªán v√† x·ª≠ l√Ω c√°c l·ªói th∆∞·ªùng li√™n quan l·ªói h·ªá th·ªëng ho·∫∑c t√¨nh hu·ªëng b·∫•t th∆∞·ªùng x·∫£y ra trong qu√° tr√¨nh th·ª±c thi ch∆∞∆°ng tr√¨nh, gi√∫p ch∆∞∆°ng tr√¨nh ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh v√† kh√¥ng b·ªã d·ª´ng ƒë·ªôt ng·ªôt.
### 3.1. **Ngo·∫°i l·ªá (Exception):** l√† nh·ªØng l·ªói ho·∫∑c s·ª± ki·ªán kh√¥ng mong mu·ªën x·∫£y ra trong qu√° tr√¨nh th·ª±c thi ch∆∞∆°ng tr√¨nh, ch·∫≥ng h·∫°n nh∆∞:<br>
&nbsp;+ Chia m·ªôt s·ªë cho 0 (division by zero).<br>
&nbsp;+ Truy c·∫≠p m·∫£ng ngo√†i ph·∫°m vi (out of bounds array access).<br>
&nbsp;+ Truy xu·∫•t con tr·ªè null (null pointer dereference).<br>
&nbsp;+ L·ªói khi m·ªü ho·∫∑c ƒë·ªçc t·∫≠p tin (file not found).<br>
&nbsp;+ L·ªói c·∫•p ph√°t b·ªô nh·ªõ (bad allocation).<br>
### 3.2. **C∆° ch·∫ø x·ª≠ l√Ω ngo·∫°i l·ªá:** gi√∫p ch∆∞∆°ng tr√¨nh ph·∫£n ·ª©ng k·ªãp th·ªùi v·ªõi c√°c l·ªói m√† kh√¥ng l√†m gi√°n ƒëo·∫°n to√†n b·ªô ch∆∞∆°ng tr√¨nh.
- H·∫ßu h·∫øt c√°c ng√¥n ng·ªØ l·∫≠p tr√¨nh hi·ªán ƒë·∫°i nh∆∞ C++, Java, Python, C# ƒë·ªÅu h·ªó tr·ª£ x·ª≠ l√Ω ngo·∫°i l·ªá th√¥ng qua c√°c t·ª´ kh√≥a ch√≠nh nh∆∞:<br>
&nbsp;+ **try:** ƒê·ªãnh nghƒ©a m·ªôt kh·ªëi l·ªánh c√≥ th·ªÉ ph√°t sinh l·ªói.<br>
&nbsp;+ **catch:** X·ª≠ l√Ω ngo·∫°i l·ªá n·∫øu c√≥ l·ªói x·∫£y ra.<br>
&nbsp;+ **throw:** N√©m ra m·ªôt ngo·∫°i l·ªá khi x·∫£y ra l·ªói.<br>
=> Mu·ªën s·ª≠ d·ª•ng nh·ªØng l·ªánh tr√™n trong C ph·∫£i ƒë·ªãnh nghƒ©a trong setjump.

- C√∫ ph√°p:<br>
  ```c
   try
   {
      // Kh·ªëi l·ªánh c√≥ th·ªÉ ph√°t sinh l·ªói
   }
   catch (lo·∫°i_ngo·∫°i_l·ªá_1)
   {
      // X·ª≠ l√Ω ngo·∫°i l·ªá lo·∫°i 1
   }
   catch (lo·∫°i_ngo·∫°i_l·ªá_2)
   {
      // X·ª≠ l√Ω ngo·∫°i l·ªá lo·∫°i 2
   }
   catch (...)
   {
      // X·ª≠ l√Ω t·∫•t c·∫£ c√°c ngo·∫°i l·ªá kh√°c
   }
  ```
- V√≠ d·ª•: <br>
  ```c
    #include <stdio.h>
  #include <setjmp.h>
  
  jmp_buf buf;
  
  int exception_code;
  
  typedef enum
  {
      NO_ERROR,
      NO_EXIT,
      DIVIDE_BY_0
  } ErrorCodes;  
  
  #define TRY if ((exception_code = setjmp(buf)) == 0)
  #define CATCH(x) else if (exception_code == x)
  #define THROW(x) longjmp(buf, x)
  
  double divide(int a, int b)
  {
      if (a == 0 && b == 0)
      {
          THROW(NO_EXIT);
      }
      else if (b == 0)
      {
          THROW(DIVIDE_BY_0);
      }
  
      return (double)a/b;
  }
  
  int main(int argc, char const *argv[])
  {
      exception_code = NO_ERROR;
  
      TRY
      {
          printf("Ket qua: %0.3f\n", divide(0,0));
      }
      CATCH(NO_EXIT)
      {
          printf("ERROR! Kh√¥ng t·ªìn t·∫°i\n");
      }
      CATCH(DIVIDE_BY_0)
      {
          printf("ERROR! Chia cho 0\n");
      }
  
      // th√™m code ·ªü ƒë√¢y
      printf("Hello world\n");
      return 0;
  }
  ```
- **Note:** S·ª± kh√°c nhau gi·ªØa **TRY - CATCH - THROW** v√† **ASSERT**:<br>
&nbsp;+ **ASSERT:** Khi c√≥ l·ªói ƒë∆∞a ra th√¥ng b√°o l·ªói chi ti·∫øt v√† d·ª´ng ngay ch∆∞∆°ng tr√¨nh khi c√≥ l·ªói.<br>
&nbsp;+ **TRY - CATCH - THROW:** Khi c√≥ l·ªói ƒë∆∞a ra th√¥ng b√°o l·ªói nh∆∞ng kh√¥ng d·ª´ng ngay ch∆∞∆°ng tr√¨nh khi c√≥ l·ªói.<br>
</details>

  
-----------------------------------------------------------------------------------------------------------------------------------------------
