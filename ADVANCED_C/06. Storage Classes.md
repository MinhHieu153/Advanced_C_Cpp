# ğŸ““Storage ClassesğŸ““

<details>
<summary><b>ğŸ“–1. Tá»« khÃ³a Extern</b></summary>
 
- **Extern:** lÃ  tá»« khÃ³a Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thÃ´ng bÃ¡o ráº±ng má»™t biáº¿n hoáº·c hÃ m Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o á»Ÿ má»™t nÆ¡i khÃ¡c trong chÆ°Æ¡ng trÃ¬nh hoáº·c trong má»™t file nguá»“n khÃ¡c. GiÃºp chÆ°Æ¡ng trÃ¬nh hiá»ƒu ráº±ng biáº¿n hoáº·c hÃ m Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a vÃ  sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng tá»« má»™t vá»‹ trÃ­ khÃ¡c.
- VÃ­ dá»¥:<br>

&nbsp;+ File test.c.<br>
```c
 #include <stdio.h>

int var_global = 50; // 0x01

void display()
{
    printf("%d\n",var_global);
}
```
&nbsp;+ File test.h.<br>
```c
#ifndef TEST_H
#define TEST_H

extern int var_global;

extern void display();

endif
```
&nbsp;+ File main.c.<br>
```c
#include <stdio.h>
#include "test.h"

int main(int argc, char const *argv[])
{
    display();
    return 0;
}
```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>ğŸ“–2. Tá»« khÃ³a Static local</b></summary>

- Khi **Static** Khi static Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n cá»¥c bá»™ (khai bÃ¡o biáº¿n trong má»™t hÃ m):<br>
&nbsp;+ Giá»¯ pháº¡m vi cá»§a biáº¿n chá»‰ trong hÃ m Ä‘Ã³.<br>
&nbsp;+ Giá»¯ giÃ¡ trá»‹ cá»§a biáº¿n qua cÃ¡c láº§n gá»i hÃ m.
<br>
- VÃ­ dá»¥:<br>

```c
#include <stdio.h>
int *ptr =NULL;
void counnt()
{
    static int count = 0;  // Biáº¿n static giá»¯ giÃ¡ trá»‹ qua cÃ¡c láº§n gá»i hÃ m
    ptr = &a; //dÃ¹ng con trá» thay Ä‘á»•i biáº¿n stactic a tá»« bÃªn ngoÃ i
    int count1 = 0 // giÃ¡ trá»‹ tá»± reset sau má»—i láº§n gá»i hÃ m
    printf("Count: %d\n", ++count);
    printf("Count1: %d\n", ++count);
}

int main()
{
    count();  // In ra "Count: 1"
    count();  // In ra "Count: 2"
    count();  // In ra "Count: 3"

    *ptr =99;
    count();  // In ra "Count: 3"
    return 0;
}
```

```c
Kq:
Count: 1 
Count1: 0
Count: 2
Count1: 0
Count: 3
Count1: 0
Count: 100
Count1: 0
}
```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>ğŸ“–3. Tá»« khÃ³a Static global</b></summary>

- Khi static Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i biáº¿n, hÃ m toÃ n cá»¥c, nÃ³ háº¡n cháº¿ pháº¡m vi cá»§a biáº¿n, hÃ m Ä‘Ã³ chá»‰ trong file nguá»“n hiá»‡n táº¡i.
- á»¨ng dá»¥ng: dÃ¹ng Ä‘á»ƒ thiáº¿t káº¿ cÃ¡c file thÆ° viá»‡n.
- VÃ­ dá»¥:<br>
```c
#include <stdio.h>
#include "test.h>

static int a = 10 // gáº¯n biáº¿n static chá»‰ sá»­ dá»¥ng trong hÃ m nÃ y

static void display(){
  printf(this is test1.c\n");
int *ptr = &a;
}
void test(){  
  printf("Hello Word\n);
}
```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>ğŸ“–4. Tá»« khÃ³a Volatile</b></summary>

- DÃ¹ng Ä‘á»ƒ bÃ¡o hiá»‡u cho trÃ¬nh biÃªn dá»‹ch ráº±ng má»™t biáº¿n cÃ³ thá»ƒ thay Ä‘á»•i ngáº«u nhiÃªn, ngoÃ i sá»± kiá»ƒm soÃ¡t cá»§a chÆ°Æ¡ng trÃ¬nh.
- GiÃºp ngÄƒn cháº·n trÃ¬nh biÃªn dá»‹ch tá»‘i Æ°u hÃ³a hoáº·c xÃ³a bá» cÃ¡c thao tÃ¡c trÃªn biáº¿n Ä‘Ã³, giá»¯ cho cÃ¡c thao tÃ¡c trÃªn biáº¿n Ä‘Æ°á»£c thá»±c hiá»‡n nhÆ° Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a.<br>
```c
#include "stm32f10x.h"

uint8_t *addr = (uint8_t*)0x20000000;
volatile uint8_t var = 0;  //giÃºp a cáº­p nháº­t khi bá»‹ thay Ä‘á»•i ngáº«u nhiÃªn

int main()
{
   while(1)
   {
     var = *addr;
     if (var != 0) break;
   }
}
```
</details>
 
--------------------------------------------------------------------------------------------------------------------------------------------------------

<details>
<summary><b>ğŸ“–5. Register - thanh ghi</b></summary>

- GiÃºp cho biáº¿n lÆ°u trá»±c tiáº¿p vÃ o thanh ghi khÃ´ng qua Ram lÃ m tÄƒng tá»‘c Ä‘á»™ xá»­ lÃ½
- Tuy nhiÃªn, lÆ°u Ã½ ráº±ng viá»‡c sá»­ dá»¥ng register chá»‰ lÃ  má»™t Ä‘á» xuáº¥t cho trÃ¬nh biÃªn dá»‹ch vÃ  khÃ´ng Ä‘áº£m báº£o ráº±ng biáº¿n sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ trong thanh ghi. Trong thá»±c táº¿, trÃ¬nh biÃªn dá»‹ch cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh khÃ´ng tuÃ¢n thá»§ lá»i Ä‘á» xuáº¥t nÃ y.
- KhÃ´ng dÃ¹ng cho biáº¿n toÃ n cá»¥c vÃ¬:<br>
&nbsp;+ Thanh ghi khÃ´ng cÃ³ Ä‘á»‹a chá»‰ nÃªn viá»‡c truy cáº­p khÃ³.<br>
&nbsp;+ Sá»‘ lÆ°á»£ng thanh ghi háº¡n cháº¿.<br>
- VÃ­ dá»¥: <br>
```c
#include <stdio.h>
#include <time.h>

int main()
{
   // LÆ°u thá»i Ä‘iá»ƒm báº¯t Ä‘áº§u
   clock_t start_time = clock();
   register int i;

   // Äoáº¡n mÃ£ cá»§a chÆ°Æ¡ng trÃ¬nh
   for (i = 0; i < 2000000; ++i){}

   // LÆ°u thá»i Ä‘iá»ƒm káº¿t thÃºc
   clock_t end_time = clock();

   // TÃ­nh thá»i gian cháº¡y báº±ng miligiÃ¢y
   double time_taken = ((double)(end_time - start_time)) / CLOCKS_PER_SEC;

   printf("Thoi gian chay cua chuong trinh: %f    giay\n", time_taken);
   return 0;
}

```
</details>

-----------------------------------------------------------------------------------------------------------------------------------------------

